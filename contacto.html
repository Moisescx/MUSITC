<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Comunidad ‚Äî MUSITC</title>
    <link rel="stylesheet" href="./dist/output.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rakkas&family=Open+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body class="text-gray-800 bg-music-gradient">
    <!-- Header -->
    <header class="relative overflow-hidden shadow-sm header-surface">
        <!-- Side bars (md+) -->
        <div class="absolute top-0 left-0 flex flex-col justify-center w-20 h-full gap-1 opacity-35" aria-hidden="true">
            <div class="w-full bg-blue-500 rounded-r-lg animate-pulse" style="height: 25%; animation-duration: 0.8s;">
            </div>
            <div class="w-full bg-purple-500 rounded-r-lg animate-pulse"
                style="height: 40%; animation-duration: 1.2s; animation-delay: 0.2s;"></div>
            <div class="w-full bg-pink-500 rounded-r-lg animate-pulse"
                style="height: 60%; animation-duration: 0.9s; animation-delay: 0.4s;"></div>
            <div class="w-full bg-blue-400 rounded-r-lg animate-pulse"
                style="height: 35%; animation-duration: 1.1s; animation-delay: 0.6s;"></div>
            <div class="w-full bg-purple-400 rounded-r-lg animate-pulse"
                style="height: 30%; animation-duration: 1.0s; animation-delay: 0.8s;"></div>
            <div class="w-full bg-pink-400 rounded-r-lg animate-pulse"
                style="height: 50%; animation-duration: 0.7s; animation-delay: 1s;"></div>
        </div>

        <!-- Barras laterales derecha - EXTRA GRANDES -->
        <div class="absolute top-0 right-0 flex flex-col justify-center w-20 h-full gap-1 opacity-35"
            aria-hidden="true">
            <div class="w-full bg-pink-500 rounded-l-lg animate-pulse" style="height: 55%; animation-duration: 1.0s;">
            </div>
            <div class="w-full bg-blue-500 rounded-l-lg animate-pulse"
                style="height: 30%; animation-duration: 0.7s; animation-delay: 0.3s;"></div>
            <div class="w-full bg-purple-500 rounded-l-lg animate-pulse"
                style="height: 65%; animation-duration: 1.3s; animation-delay: 0.5s;"></div>
            <div class="w-full bg-pink-400 rounded-l-lg animate-pulse"
                style="height: 25%; animation-duration: 0.9s; animation-delay: 0.7s;"></div>
            <div class="w-full bg-blue-400 rounded-l-lg animate-pulse"
                style="height: 45%; animation-duration: 1.1s; animation-delay: 0.9s;"></div>
            <div class="w-full bg-purple-400 rounded-l-lg animate-pulse"
                style="height: 40%; animation-duration: 0.8s; animation-delay: 1.1s;"></div>
        </div>

        <div class="relative z-10 flex items-center justify-between max-w-4xl p-4 mx-auto panel-surface">
            <div class="flex items-center gap-3">
                <div class="w-2 h-8 rounded-full sm:h-10 bg-gradient-to-b from-blue-500 to-purple-500"></div>
                <h1 class="text-xl font-bold text-gray-900 sm:text-2xl">MUSITC</h1>
            </div>

            <nav class="">
                <ul class="flex gap-3 text-xs sm:gap-4 sm:text-sm">
                    <li><a class="px-1 text-gray-600 hover:underline" href="./index.html">Inicio</a></li>
                    <li><a class="px-1 text-gray-600 hover:underline" href="./cancion.html">Canciones</a></li>
                    <li><a class="px-1 text-gray-600 hover:underline" href="./acerca.html">Acerca</a></li>
                    <li><a class="px-1 text-blue-600" aria-current="page" href="./contacto.html">Comunidad</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main -->
    <main class="max-w-4xl p-6 mx-auto space-y-10">

        <!-- Intro -->
        <section
            class="px-6 py-8 -mx-6 border-l-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl">
            <div class="text-center">
                <h2 class="mb-3 text-2xl font-semibold text-gray-900">Comunidad Musical</h2>
                <p class="max-w-2xl mx-auto text-gray-700">
                    Comparte tu reflexi√≥n, sugiere canciones o comenta lo que te moviliza. Este espacio est√° pensado
                    para que la
                    m√∫sica nos conecte.
                </p>
            </div>
        </section>

        <!-- Stats -->
        <section aria-hidden="false" class="mb-2">
            <div class="grid max-w-lg grid-cols-1 gap-4 mx-auto sm:grid-cols-2">
                <div class="p-4 text-center bg-white border shadow-sm border-blue-50 rounded-xl">
                    <h3 class="mb-1 text-2xl font-bold text-blue-600" data-stat="reflexiones">0</h3>
                    <p class="text-sm text-gray-600">Reflexiones compartidas</p>
                </div>
                <div class="p-4 text-center bg-white border shadow-sm border-green-50 rounded-xl">
                    <h3 class="mb-1 text-2xl font-bold text-green-600" data-stat="sugerencias">1</h3>
                    <p class="text-sm text-gray-600">Sugerencias recibidas</p>
                </div>
            </div>
            <p class="mt-3 text-xs text-center text-gray-400" data-stat="lastUpdated"></p>
        </section>

        <!-- Layout -->
        <div class="grid grid-cols-1 gap-8 xl:grid-cols-4">
            <!-- Forms (main column) -->
            <div class="space-y-8 xl:col-span-3">

                <!-- Reflexi√≥n form -->
                <section class="overflow-hidden bg-white border shadow border-blue-50 rounded-xl">
                    <div class="p-6 text-white bg-gradient-to-r from-blue-500 to-blue-600 rounded-t-xl">
                        <h3 class="mb-1 text-2xl font-semibold">üí≠ Comparte una Reflexi√≥n</h3>
                        <p class="text-sm text-blue-100">¬øHay una canci√≥n que te marc√≥? Cu√©ntanos por qu√©.</p>
                    </div>

                    <div class="p-6">
                        <form role="form" aria-label="Formulario de reflexi√≥n" action="https://formspree.io/f/xyzdqeap"
                            method="POST" class="space-y-4">
                            <input type="hidden" name="_subject" value="Nueva reflexi√≥n musical">
                            <input type="hidden" name="_next" value="./contacto.html?sent=reflexion">
                            <input type="hidden" name="tipo" value="reflexion">

                            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                                <div>
                                    <label for="nombre-reflexion"
                                        class="block mb-2 text-sm font-medium text-gray-700">Tu nombre</label>
                                    <input aria-label="Tu nombre" autocomplete="name" type="text" id="nombre-reflexion"
                                        name="nombre" required
                                        class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300">
                                </div>

                                <div>
                                    <label for="email-reflexion" class="block mb-2 text-sm font-medium text-gray-700">Tu
                                        email</label>
                                    <input aria-label="Tu email" autocomplete="email" type="email" id="email-reflexion"
                                        name="email" required
                                        class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300">
                                </div>
                            </div>

                            <div>
                                <label for="cancion" class="block mb-2 text-sm font-medium text-gray-700">Canci√≥n y
                                    artista</label>
                                <input aria-label="Canci√≥n y artista" type="text" id="cancion" name="cancion"
                                    placeholder="Ej: Bohemian Rhapsody - Queen" required
                                    class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300">
                            </div>

                            <div>
                                <label for="reflexion" class="block mb-2 text-sm font-medium text-gray-700">Tu
                                    reflexi√≥n</label>
                                <textarea aria-label="Tu reflexi√≥n" id="reflexion" name="reflexion" rows="5" required
                                    placeholder="¬øQu√© te transmite esta canci√≥n? ¬øQu√© recuerdos te trae?"
                                    class="w-full px-4 py-3 border border-gray-200 resize-y rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300"></textarea>
                            </div>

                            <div class="flex justify-center sm:justify-start">
                                <button type="submit"
                                    class="w-full px-6 py-3 font-medium text-white shadow sm:w-auto rounded-xl bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600">
                                    üöÄ Compartir Reflexi√≥n
                                </button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Sugerencia form -->
                <section class="overflow-hidden bg-white border shadow border-green-50 rounded-xl">
                    <div class="p-6 text-white bg-gradient-to-r from-green-500 to-green-600 rounded-t-xl">
                        <h3 class="mb-1 text-2xl font-semibold">üéµ Sugiere una Canci√≥n</h3>
                        <p class="text-sm text-green-100">Sugiere canciones para analizar en el blog.</p>
                    </div>

                    <div class="p-6">
                        <form role="form" aria-label="Formulario de sugerencia" action="https://formspree.io/f/xnnbkpee"
                            method="POST" class="space-y-4">
                            <input type="hidden" name="_subject" value="Nueva sugerencia de canci√≥n">
                            <input type="hidden" name="_next" value="./contacto.html?sent=sugerencia">
                            <input type="hidden" name="tipo" value="sugerencia">

                            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                                <div>
                                    <label for="nombre-sugerencia"
                                        class="block mb-2 text-sm font-medium text-gray-700">Tu nombre</label>
                                    <input aria-label="Tu nombre" type="text" id="nombre-sugerencia" name="nombre"
                                        required
                                        class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-300">
                                </div>

                                <div>
                                    <label for="email-sugerencia"
                                        class="block mb-2 text-sm font-medium text-gray-700">Tu email</label>
                                    <input aria-label="Tu email" type="email" id="email-sugerencia" name="email"
                                        required
                                        class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-300">
                                </div>
                            </div>

                            <div>
                                <label for="cancion-sugerida"
                                    class="block mb-2 text-sm font-medium text-gray-700">Canci√≥n sugerida</label>
                                <input aria-label="Canci√≥n sugerida" type="text" id="cancion-sugerida"
                                    name="cancion_sugerida" placeholder="Ej: Imagine - John Lennon" required
                                    class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-300">
                            </div>

                            <div>
                                <label for="genero" class="block mb-2 text-sm font-medium text-gray-700">G√©nero
                                    musical</label>
                                <select aria-label="G√©nero musical" id="genero" name="genero" required
                                    class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-300">
                                    <option value="">Selecciona un g√©nero</option>
                                    <option value="Rock">Rock</option>
                                    <option value="Pop">Pop</option>
                                    <option value="Indie">Indie</option>
                                    <option value="Electr√≥nica">Electr√≥nica</option>
                                    <option value="Folk">Folk</option>
                                    <option value="Jazz">Jazz</option>
                                    <option value="Cl√°sica">Cl√°sica</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>

                            <div>
                                <label for="razon" class="block mb-2 text-sm font-medium text-gray-700">¬øPor qu√©
                                    sugieres esta canci√≥n?</label>
                                <textarea aria-label="Raz√≥n de la sugerencia" id="razon" name="razon" rows="4" required
                                    placeholder="Cu√©ntanos por qu√© crees que esta canci√≥n merece un an√°lisis..."
                                    class="w-full px-4 py-3 border border-gray-200 resize-y rounded-xl focus:outline-none focus:ring-2 focus:ring-green-300"></textarea>
                            </div>

                            <div class="flex justify-center sm:justify-start">
                                <button type="submit"
                                    class="w-full px-6 py-3 font-medium text-white shadow sm:w-auto rounded-xl bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600">
                                    üì© Enviar Sugerencia
                                </button>
                            </div>
                        </form>
                    </div>
                </section>
            </div>

            <!-- Sidebar -->
            <aside class="space-y-6 xl:col-span-1">
                <section class="p-6 bg-white border border-gray-100 shadow-sm rounded-xl">
                    <h4 class="flex items-center mb-4 text-lg font-semibold text-gray-800">
                        <span class="mr-2 text-yellow-500">üí°</span>
                        Tips para una buena reflexi√≥n
                    </h4>
                    <ul class="space-y-3 text-sm text-gray-600">
                        <li class="flex items-start gap-2"><strong class="text-blue-500">‚Ä¢</strong> S√© espec√≠fico sobre
                            lo que te
                            gusta.</li>
                        <li class="flex items-start gap-2"><strong class="text-blue-500">‚Ä¢</strong> Comparte una
                            experiencia personal.</li>
                        <li class="flex items-start gap-2"><strong class="text-blue-500">‚Ä¢</strong> Menciona contexto y
                            emociones.</li>
                    </ul>
                </section>

                <section class="p-6 bg-white border border-gray-100 shadow-sm rounded-xl">
                    <h4 class="mb-4 text-lg font-semibold text-gray-800">üéº G√©neros populares</h4>
                    <div class="flex flex-wrap gap-2">
                        <span
                            class="px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-200 rounded-full">Rock</span>
                        <span
                            class="px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-200 rounded-full">Pop</span>
                        <span
                            class="px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-200 rounded-full">Indie</span>
                        <span
                            class="px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-200 rounded-full">Folk</span>
                    </div>
                </section>
            </aside>
        </div>

        <!-- Success message -->
        <div id="success-message" class="hidden p-6 mt-4 border border-green-200 bg-green-50 rounded-xl" role="status"
            aria-live="polite">
            <div class="flex items-start gap-4">
                <div class="text-2xl">‚úÖ</div>
                <div>
                    <h4 class="text-lg font-semibold text-green-800" id="success-title">¬°Mensaje enviado!</h4>
                    <p class="text-green-700" id="success-text">Gracias por tu participaci√≥n ‚Äî revisaremos tu aporte.
                    </p>
                </div>
            </div>
        </div>

        <!-- Footer CTA -->
        <section
            class="p-6 text-center border-l-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl">
            <h3 class="mb-2 text-xl font-semibold text-gray-900">Gracias por ser parte</h3>
            <p class="text-gray-700">Cada reflexi√≥n y sugerencia hace que este lugar mejore. ¬°Gracias por compartir
                m√∫sica!</p>
        </section>

        <div class="text-center">
            <a href="./index.html" class="text-blue-600 hover:underline">‚Üê Volver al inicio</a>
        </div>
    </main>

    <!-- Script: muestra mensaje de √©xito si ?sent=... est√° presente y actualiza fecha de stats -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Mostrar mensaje de √©xito basado en URL params
            const params = new URLSearchParams(window.location.search);
            const sent = params.get('sent');
            if (sent) {
                const success = document.getElementById('success-message');
                const successText = document.getElementById('success-text');
                const successTitle = document.getElementById('success-title');

                if (sent === 'reflexion') {
                    successTitle.textContent = '¬°Reflexi√≥n recibida!';
                    successText.textContent = 'Tu reflexi√≥n fue enviada. La revisaremos y puede aparecer en el sitio.';
                } else if (sent === 'sugerencia') {
                    successTitle.textContent = '¬°Sugerencia recibida!';
                    successText.textContent = 'Gracias por la sugerencia ‚Äî la tomaremos en cuenta.';
                } else {
                    successTitle.textContent = '¬°Mensaje enviado!';
                    successText.textContent = 'Gracias por tu aporte.';
                }

                success.classList.remove('hidden');
                success.scrollIntoView({ behavior: 'smooth' });

                // limpiar query string sin recargar
                window.history.replaceState({}, document.title, window.location.pathname);
            }

            // Actualizar fecha "lastUpdated" si existe
            const last = document.querySelector('[data-stat="lastUpdated"]');
            if (last) {
                const now = new Date();
                const opts = { year: 'numeric', month: 'short', day: 'numeric' };
                last.textContent = `√öltima actualizaci√≥n: ${now.toLocaleDateString('es-CL', opts)}`;
            }
        });
    </script>

    <!-- Footer waves -->
    <div class="footer-waves" aria-hidden="true">
        <svg viewBox="0 0 1200 200" preserveAspectRatio="none">
            <g transform="translate(0,0)">
                <path class="wave wave--back"
                    d="M0,120 C150,200 350,40 600,120 C850,200 1050,40 1200,120 L1200,200 L0,200 Z"
                    fill="rgba(59,130,246,0.08)" />
                <path class="wave wave--mid"
                    d="M0,140 C200,40 400,200 600,140 C800,80 1000,200 1200,140 L1200,200 L0,200 Z"
                    fill="rgba(236,72,153,0.06)" />
                <path class="wave wave--front"
                    d="M0,160 C250,220 450,80 600,160 C750,240 950,80 1200,160 L1200,200 L0,200 Z"
                    fill="rgba(234,179,8,0.05)" />
            </g>
        </svg>
    </div>
</body>

</html>